$(document).ready(function(){!function(t){var n=document.querySelector("#log");["log","warn","error"].forEach(function(t){console[t]=function(t,n,o){return function(e){t(e);var c=document.createElement("code");c.classList.add(n),c.textContent=n+": "+e,o.appendChild(c)}}(console[t].bind(console),t,n)})}()}),$(document).ready(function(){var t=!1;$("#get-button").on("click",function(){$.ajax({url:"/products",contentType:"application/json",success:function(t){var n=$("tbody");n.html(""),t.products.forEach(function(t){n.append('<tr><td class="id">'+t.id+'</td><td><input type="text" class="name form-control" value="'+t.name+'"></input></td><td><button class="update-button btn btn-info">UPDATE / PUT</button><button class="delete-button btn btn-danger">DELETE</button></td><tr></tr>')})}}),0==t&&(console.log("Products loaded"),t=!0)}),$("#create-form").on("submit",function(t){t.preventDefault();var n=$("#create-input"),o=n.val();""==o||"undefined"==o?console.log("Please type the product's name"):$.ajax({url:"/products",method:"POST",contentType:"application/json",data:JSON.stringify({name:n.val()}),success:function(t){console.log(t),n.val(""),$("#get-button").click()}})}),$("table").on("click",".update-button",function(){var t=$(this).closest("tr"),n=t.find(".id").text(),o=t.find(".name").val();$.ajax({url:"/products/"+n,method:"PUT",contentType:"application/json",data:JSON.stringify({newName:o}),success:function(t){console.log(t),$("#get-button").click()}})}),$("table").on("click",".delete-button",function(){var t=$(this).closest("tr").find(".id").text();$.ajax({url:"/products/"+t,method:"DELETE",contentType:"application/json",success:function(t){console.log(t),$("#get-button").click()}})}),$("#refresh").on("click",function(){location.reload()})});